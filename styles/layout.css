/* Layout-related rules (main content, curtain/drawer, responsive) */

.app-layout { display: flex; height: 100%; position: relative; }

/* Menu toggle (three stacked dashes) - now positioned directly on the app */
.menu-toggle {
  display: inline-flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 4px;
  padding: 6px;
  width: 40px;
  height: 36px;
  border-radius: 10px;
  background: rgba(0,0,0,0.2);
  border: 2px solid rgba(194, 24, 91, 0.6);
  color: var(--muted);
  cursor: pointer;
  position: fixed;
  top: 12px;
  left: 12px;
  z-index: 1200;
  backdrop-filter: blur(3px);
  box-shadow: 0 0 16px var(--glow-strong), 0 0 28px var(--glow-soft), inset 0 0 10px rgba(194, 24, 91, 0.15);
  transition: box-shadow 180ms ease, transform 120ms ease, border-color 180ms ease;
  animation: menuToggleGlow 1.8s ease-in-out infinite alternate;
}

@keyframes menuToggleGlow {
  0% { 
    box-shadow: 0 0 16px var(--glow-strong), 0 0 28px var(--glow-soft), inset 0 0 10px rgba(194, 24, 91, 0.15);
    border-color: rgba(194, 24, 91, 0.6);
  }
  100% { 
    box-shadow: 0 0 28px var(--glow-ultra), 0 0 44px var(--glow-strong), inset 0 0 18px rgba(194, 24, 91, 0.3);
    border-color: rgba(194, 24, 91, 1);
  }
}

.menu-toggle:hover {
  border-color: var(--glow-ultra);
  box-shadow: 0 0 24px var(--glow-ultra), 0 0 40px var(--glow-strong), inset 0 0 16px rgba(194, 24, 91, 0.25);
}
.menu-toggle .dash {
  width: 18px;
  height: 2px;
  background: var(--muted);
  display: block;
  border-radius: 2px;
  box-shadow: 0 0 8px var(--glow-soft), 0 0 14px var(--glow-strong), 0 0 4px rgba(0,0,0,0.8);
  animation: dashGlow 1.5s ease-in-out infinite alternate;
}

@keyframes dashGlow {
  0% { box-shadow: 0 0 8px var(--glow-soft), 0 0 14px var(--glow-strong); }
  100% { box-shadow: 0 0 16px var(--glow-ultra), 0 0 26px var(--glow-strong); }
}

@media (max-width: 900px) {
  .menu-toggle { top: 8px; left: 8px; width: 36px; height: 34px; padding: 5px; }
  .menu-toggle .dash { width: 14px; height: 2px; }
}

/* Right-side curtain/drawer */
.right-curtain {
  position: fixed;
  top: 0;
  right: 0;
  width: 420px;
  max-width: 92%;
  height: 100%;
  z-index: 1100;
  display: flex;
  pointer-events: none;
}
.right-curtain-inner {
  pointer-events: auto;
  width: 420px;
  max-width: 92%;
  background: linear-gradient(180deg, rgba(36,36,36,0.98), rgba(28,28,28,0.98));
  border-left: 1px solid rgba(194,24,91,0.1);
  padding: 18px;
  box-shadow: -20px 0 40px rgba(0,0,0,0.6), -8px 0 30px rgba(194,24,91,0.05);
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 12px;
  transition: transform 220ms cubic-bezier(.2,.9,.2,1);
  opacity: 0;
  transform: translateX(20px);
  animation: curtainIn 3s forwards;
}
@keyframes curtainIn {
  0% { opacity: 0; transform: translateX(30px) scale(0.995); filter: blur(2px); }
  40% { opacity: 0.5; transform: translateX(12px) scale(0.998); filter: blur(1px); }
  100% { opacity: 1; transform: translateX(0) scale(1); filter: blur(0); }
}
.right-curtain-backdrop {
  flex: 1;
  backdrop-filter: blur(2px);
  background: linear-gradient(90deg, rgba(0,0,0,0.0), rgba(0,0,0,0.4));
  pointer-events: auto;
}
.right-curtain .curtain-header { display:flex; align-items:center; justify-content:space-between; gap:8px; border-bottom:1px solid #333; padding-bottom:8px; }
.right-curtain .curtain-header h4 { 
  margin:0; 
  color: var(--glow-primary); 
  text-shadow: 0 0 18px var(--glow-ultra), 0 0 10px var(--glow-strong), 0 0 5px rgba(0,0,0,0.9); 
  animation: curtainHeaderGlow 1.6s ease-in-out infinite alternate;
}

@keyframes curtainHeaderGlow {
  0% { text-shadow: 0 0 18px var(--glow-ultra), 0 0 10px var(--glow-strong); }
  100% { text-shadow: 0 0 28px var(--glow-ultra), 0 0 16px var(--glow-strong), 0 0 8px rgba(194,24,91,1); }
}

.right-curtain .close-curtain { background: transparent; border: 1px solid rgba(255,255,255,0.04); color: var(--text); padding: 6px 8px; border-radius: 8px; cursor: pointer; }
.right-curtain .curtain-sections { display:flex; flex-direction:column; gap:12px; }
.right-curtain .menu-section h5 { 
  margin:0 0 6px 0; 
  color: var(--accent-hover); 
  text-shadow: 0 0 14px var(--glow-strong), 0 0 8px var(--glow-ultra), 0 0 4px rgba(0,0,0,0.8); 
  animation: sectionHeaderGlow 1.7s ease-in-out infinite alternate;
}

@keyframes sectionHeaderGlow {
  0% { text-shadow: 0 0 14px var(--glow-strong), 0 0 8px var(--glow-ultra); }
  100% { text-shadow: 0 0 22px var(--glow-ultra), 0 0 14px var(--glow-strong), 0 0 6px rgba(194,24,91,1); }
}

.right-curtain .menu-section { padding:8px; border-radius:8px; background: rgba(0,0,0,0.12); border:1px solid rgba(255,255,255,0.02); }

/* Main content - now full width */
.main-content { 
  flex-grow: 1; 
  display: flex; 
  flex-direction: column; 
  overflow: hidden;
  width: 100%;
}
.content-wrapper { flex-grow: 1; overflow-y: auto; padding: 20px; max-width: 1200px; margin: 0 auto; width: 100%; }

/* Responsive adjustments */
@media (max-width: 740px) {
  .right-curtain-inner { width: 100%; max-width: 100%; }
  .right-curtain { right: 0; left: 0; justify-content: flex-end; }
}
@media (max-width: 900px) {
  .content-wrapper { padding: 10px; }
}